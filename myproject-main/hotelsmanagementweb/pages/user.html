<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>HaNoiBooking.</title>
    <link rel="stylesheet" type="text/css" href="../css/user.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <div class="menu">
            <div class="logo">
                <span class="logo-light">HaNoi</span><span class="logo-bold">Booking.</span>
            </div>
            <div class="menu__func">
                <div class="func1 active" onclick="switchSection('bookings')">
                    <i class="fa-solid fa-file-invoice"></i>
                    <p class="func-title">Bookings</p>
                </div>
                <div class="func2" onclick="switchSection('transactions')">
                    <i class="fa-solid fa-credit-card"></i>
                    <p class="func-title">Transactions</p>
                </div>
                <div class="func3" onclick="switchSection('account')">
                    <i class="fa-solid fa-id-badge"></i>
                    <p class="func-title">Your Account</p>
                </div>
                <div class="func4">
                    <i class="fa-solid fa-circle-info"></i>
                    <p class="func-title">Help</p>
                </div>
                <div class="func5">
                    <i class="fa-solid fa-message"></i>
                    <p class="func-title">Message</p>
                </div>
            </div>
        </div>

        <div class="main">
            <div class="header">
                <div class="hello__user">
                    <h1 class="hello-user">Hello, User</h1>
                    <p class="hello-title">Have a nice day</p>
                </div>

                <div class="login">
                    <div class="noti-wrapper" onclick="toggleNoti()">
                        <div class="icon">
                            <i class="fa-solid fa-bell"></i>
                            <span class="dot has-noti"></span>
                        </div>
                        <div class="noti-tab" id="notiTab">
                            <div class="noti-header">
                                <h3>Notifications</h3>
                                <span class="noti-count">1</span>
                            </div>
                            <div class="noti-list">
                                <div class="noti-item unread">
                                    <div class="noti-icon">
                                        <i class="fa-solid fa-circle-check"></i>
                                    </div>
                                    <div class="noti-content">
                                        <p class="noti-text">Your booking has been confirmed!</p>
                                        <span class="noti-time">2 minutes ago</span>
                                    </div>
                                </div>
                                <div class="noti-item">
                                    <div class="noti-icon">
                                        <i class="fa-solid fa-tag"></i>
                                    </div>
                                    <div class="noti-content">
                                        <p class="noti-text">Special offer: Get 20% off on your next booking</p>
                                        <span class="noti-time">2 hours ago</span>
                                    </div>
                                </div>
                            </div>
                            <div class="noti-footer">
                                <a href="#">View all notifications</a>
                            </div>
                        </div>
                    </div>

                    <div class="vector"></div>

                    <div class="user-box" onclick="toggleDropdown()">
                        <div class="avatar"></div>
                        <div class="user-info">
                            <div class="user-name">Duc Thanh</div>
                            <div class="user-role">User</div>
                        </div>
                        <i class="fa-solid fa-chevron-down"></i>

                        <div class="dropdown" id="userDropdown">
                            <a href="#"><i class="fa-regular fa-calendar-check"></i>My Booking</a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="logout"><i class="fa-solid fa-right-from-bracket"></i>Log out</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bookings Section -->
            <div id="bookings" class="content-section active">
                <h2 class="list-title">Booking List</h2>
                <div class="booking-list">
                    <div class="card">
                        <div class="card__img">
                            <h3 class="card__name">Blue Origin Fams</h3>
                            <p class="card__location">Galle, Sri Lanka</p>
                        </div>
                        <div class="date">20 Jan - 22 Jan</div>
                        <div class="day">02 Days</div>
                        <div class="location">Galle to Colombo Road 245, Main Street, Galle.</div>
                        <div class="ini-price">Initial Payment: $200</div>
                        <div class="total-price">Total Payment: $400</div>
                        <div class="card__actions">
                            <button class="edit-btn" onclick="editBooking(1)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="delete-btn" onclick="deleteBooking(1)">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <!-- More cards can be added here -->
                </div>
            </div>

            <!-- Transactions Section -->
            <div id="transactions" class="content-section">
                <h2 class="list-title">Transaction History</h2>
                <div class="transactions-list">
                    <div class="transaction-card" onclick="toggleTransactionDetails(this)">
                        <div class="transaction-header">
                            <div class="transaction-date">Jan 20, 2024</div>
                            <div class="transaction-id">#TRX-2401201</div>
                        </div>
                        <div class="transaction-amount">$200.00</div>
                        <div class="transaction-info">
                            <div class="transaction-hotel">Blue Origin Fams</div>
                            <div class="transaction-nights">2 nights</div>
                        </div>
                        <span class="transaction-status status-success">
                            <i class="fas fa-check-circle"></i>
                            Completed
                        </span>
                        <div class="transaction-details">
                            <div class="details-section">
                                <div class="details-title">Payment Details</div>
                                <div class="details-row">
                                    <span class="details-label">Room Rate</span>
                                    <span class="details-value">$90.00 x 2 nights</span>
                                </div>
                                <div class="details-row">
                                    <span class="details-label">Taxes & Fees</span>
                                    <span class="details-value">$20.00</span>
                                </div>
                                <div class="details-row">
                                    <span class="details-label">Total Amount</span>
                                    <span class="details-value">$200.00</span>
                                </div>
                            </div>
                            <div class="details-section">
                                <div class="details-title">Payment Method</div>
                                <div class="payment-method">
                                    <div class="payment-icon">
                                        <i class="fab fa-cc-visa"></i>
                                    </div>
                                    <div class="payment-info">
                                        <div class="payment-type">Visa Card</div>
                                        <div class="payment-number">**** **** **** 4242</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="transaction-card" onclick="toggleTransactionDetails(this)">
                        <div class="transaction-header">
                            <div class="transaction-date">Jan 18, 2024</div>
                            <div class="transaction-id">#TRX-2401181</div>
                        </div>
                        <div class="transaction-amount">$150.00</div>
                        <div class="transaction-info">
                            <div class="transaction-hotel">Ocean Land</div>
                            <div class="transaction-nights">1 night</div>
                        </div>
                        <span class="transaction-status status-pending">
                            <i class="fas fa-clock"></i>
                            Pending
                        </span>
                        <div class="transaction-details">
                            <div class="details-section">
                                <div class="details-title">Payment Details</div>
                                <div class="details-row">
                                    <span class="details-label">Room Rate</span>
                                    <span class="details-value">$130.00 x 1 night</span>
                                </div>
                                <div class="details-row">
                                    <span class="details-label">Taxes & Fees</span>
                                    <span class="details-value">$20.00</span>
                                </div>
                                <div class="details-row">
                                    <span class="details-label">Total Amount</span>
                                    <span class="details-value">$150.00</span>
                                </div>
                            </div>
                            <div class="details-section">
                                <div class="details-title">Payment Method</div>
                                <div class="payment-method">
                                    <div class="payment-icon">
                                        <i class="fab fa-cc-mastercard"></i>
                                    </div>
                                    <div class="payment-info">
                                        <div class="payment-type">Mastercard</div>
                                        <div class="payment-number">**** **** **** 5678</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Section -->
            <div id="account" class="content-section">
                <h2 class="list-title">Account Settings</h2>
                <div class="account-section">
                    <form class="account-form">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" value="Duc" />
                        </div>
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" value="Thanh" />
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" value="example@email.com" />
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="tel" value="+84 123 456 789" />
                        </div>
                        <button type="button" class="save-btn">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleNoti() {
            const tab = document.getElementById('notiTab');
            const currentDisplay = tab.style.display;

            // Hide all other dropdowns first
            document.getElementById('userDropdown').classList.remove('active');

            // Toggle notification tab
            if (currentDisplay === 'block') {
                tab.style.display = 'none';
            } else {
                tab.style.display = 'block';
                tab.classList.add('active');
            }
        }

        function toggleDropdown() {
            const dropdown = document.getElementById("userDropdown");
            const notiTab = document.getElementById('notiTab');

            // Hide notification tab first
            notiTab.style.display = 'none';

            // Toggle user dropdown
            dropdown.classList.toggle("active");
        }

        // Close dropdowns when clicking outside
        window.addEventListener("click", function (e) {
            const userBox = document.querySelector(".user-box");
            const notiWrapper = document.querySelector(".noti-wrapper");
            const dropdown = document.getElementById("userDropdown");
            const notiTab = document.getElementById("notiTab");

            if (!userBox.contains(e.target) && !notiWrapper.contains(e.target)) {
                dropdown.classList.remove("active");
                notiTab.style.display = 'none';
            }
        });

        function editBooking(id) {
            // Hiển thị form chỉnh sửa hoặc chuyển hướng đến trang chỉnh sửa
            console.log('Editing booking:', id);
        }

        function deleteBooking(id) {
            if (confirm('Are you sure you want to delete this booking?')) {
                // Gọi API để xóa booking
                console.log('Deleting booking:', id);
            }
        }

        function toggleTransactionDetails(card) {
            // Remove active class from all cards
            document.querySelectorAll('.transaction-card').forEach(c => {
                if (c !== card) c.classList.remove('active');
            });
            // Toggle active class on clicked card
            card.classList.toggle('active');
        }

        function switchSection(sectionId) {
            // Remove active class from all menu items and sections
            document.querySelectorAll('.menu__func > div').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Add active class to clicked menu item and corresponding section
            document.querySelector(`.func${sectionId === 'bookings' ? '1' : sectionId === 'transactions' ? '2' : '3'}`).classList.add('active');
            document.getElementById(sectionId).classList.add('active');
        }
    </script>
</body>

</html>